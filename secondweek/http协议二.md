## 密码学入门
密码学处理的对象是数字和字符串。

散列是一种数据一旦转换为其他形式将无法恢复的加密技术。例如md5 和sha1

加密：对称加密（AES、DES、3DES）和非对称加密（RSA）

秘钥交换算法
    
    Diffie-Hellman算法是一种著名的密钥协商算法，这种算法可以使得信息交换的双方通过公开的非安全的网络协商生成安全的共享密钥。

## 证书签发机构CA
CA是数字证书的签发机构，作为权威机构，其审核申请者身份后签发数字证书，这样我们只需要校验数字证书即可确定对方的真实身份。
   
CA的工作流程：
1. 服务器例如example.com 从CA请求TLS证书
2. CA将为example.com创建证书，证书包含   必要的数据如：服务器名称、服务器公钥等
3. CA将创建的证书的哈希值，用自己的私钥进行加密。
4. 浏览器和操作系统自带CA等权威机构的公钥
5. 当浏览器收到签名证书时，用公钥从签名中生成哈希值，再使用证书中指定的散列算法生成另一个哈希值，如果两个哈希值匹配，则证书验证成功。
6. 浏览器就可以使用证书中指定的example.com的公钥进行消息的验证

## SSL/TLS协议
传输层安全性协议（TLS）,及其前身安全套接层（SSL）是一种安全协议，目的是为互联网通信提供安全及数据完整性保证。

HTTPS协议的安全性由SSL协议实现，当前使用的TLS协议1.2版本包含四个子协议：握手协议、秘钥配置切换协议、应用数据协议几报警协议。

TLS适用于对称密钥，对称密钥可以通过安全密钥交换算法共享，如果请求被截获，密钥交换可能被欺骗，使用数字签名进行身份验证

**TLS 握手的步骤**
1. ClientHello: 客户端发送所支持的SSL/TLS最高协议版本号和所支持的加密算法集合及压缩方法集合给服务器端
2. ServerHello: 服务器端收到客户端信息后，选定双方都能支持的SSL/TLS协议版本、加密算法及压缩方法给客户端
3. SendCertificate(可选)：服务器端发送证书给客户端
4. RequestCertificate(可选)：如果选择双向验证，服务器端向客户端请求客户端证书。
5. ServerHelloDone: 服务器端通知客户端初始协商结束
6. ResponseCertificate(可选)：如果选择双向验证，客户端向服务器端发送证书。
7. ClientKeyExchange: 客户端使用服务器端的公钥，对客户端的公钥和密钥种子进行加密，再发送给服务器端。
8. CertificateVerify(可选)：如果选择双向验证，客户端用本地私钥生成数字签名，发送给服务器端，让其用收到的客户端公钥进行身份验证
9. CreateSecretKey: 通讯双方基于密钥种子等信息生成通讯密钥。
10. ChangeCipherSpec: 客户端通知服务器端已将通讯方式切换到加密模式。
11. Finished: 客户端做好加密通讯的准备。
12. ChangeCipherSpec: 服务器端通知客户端已将通讯方式切换到加密模式。
13. Finished：服务器端做好通讯准备。
14.  Encrypted/EdcryptedData: 双方使用客户端密钥，通过对称加密算法对通讯内容进行加密。
15. ClosedConnection: 通讯结束后，任何一方发出断开SSL连接的消息

## HTTP2 协议
http2修改了数据格式化以及在客户端与服务器间的传输方式。通过新的分帧层向我们的应用隐藏了所有复杂性。由于http2引入了一个新的二进制分帧层，该层无法与之前的http1.x兼容

http2的特点：使用二进制格式传输，更高效更紧凑；对报头压缩，降低了开销；多路复用，一个网络连接实现并行请求；服务器主动推送，减少请求的延迟；默认使用加密

   